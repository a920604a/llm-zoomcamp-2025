
## 🔍 什麼是 RAG（Retrieval-Augmented Generation）？

RAG 是一種結合 **搜尋引擎** 與 **語言模型（LLM）** 的應用架構，用來改善 LLM 回答問題的準確性與根據性。其流程分為三個主要步驟：

1. **Search（檢索）**
   根據使用者的提問，到外部資料來源（如 FAQ、文件、知識庫）中搜尋相關內容。

2. **Prompt（構建提示）**
   將搜尋結果組合成一個上下文提示（prompt），給 LLM 使用。

3. **LLM（生成回答）**
   語言模型根據這些上下文資料生成回覆，讓回覆更「有根據（grounded）」。

📌 **優點**：

* 解決 LLM「胡謅」（hallucination）問題
* 不需 retrain 模型即可擴充知識

---

## 🧠 什麼是 Agentic RAG？

Agentic RAG 是一種 **進階版 RAG**，讓 LLM 不只是 passively 使用 context，而是具備**決策能力與互動流程控制能力**。
它不只是單一查詢 + 回答，而是像「一個能主動思考的助理」，能根據任務決定是否要再查詢、重查、或直接回答。

### 特徵如下：

* **具有狀態與記憶**（保留前一次查詢/動作）
* **能決定何時查詢與何時回答**
* **能進行多輪查詢與推理**
* **能選擇使用哪個工具（tool）來完成任務**

範例行為：

```text
使用者問：「我要如何參加這門課？」

Agent 回答：「我要搜尋 FAQ，找關於報名的資訊」
→ 執行搜尋
→ 再次產生回答：「請至 Telegram 加入群組並依說明註冊」
```

---

## 🔁 什麼是 Agentic Search？

Agentic Search 是 Agentic RAG 中的一個子流程，專注於 **智能化的資料檢索階段**，強調以下能力：

1. **主動提出搜尋關鍵字**（非只用原始提問）
2. **根據目前 context 決定是否再次搜尋**
3. **迭代搜尋與彙整資料**
4. **避免重複查詢與過多查詢**

例如：

```text
提問：「如何在模組 1 表現良好？」

Agent 發現 context 不足 → 自己拆解出：
- 「module 1 requirement」
- 「homework module 1」
- 「project deadline module 1」
→ 多輪搜尋 → 整合 context → 再回答
```

📌 這讓模型可以深入探索問題，擁有類似人類的「找資料 + 歸納」能力。

---

### 📊 總結比較表：

| 模型類型           | 搜尋能力  | 決策能力 | 工具使用 | 多輪互動 | 範例                |
| -------------- | ----- | ---- | ---- | ---- | ----------------- |
| RAG            | ✅     | ❌    | ❌    | ❌    | 搜尋一次 FAQ → 回答     |
| Agentic RAG    | ✅     | ✅    | ✅    | ✅    | 決定是否要查詢、用工具、或直接回答 |
| Agentic Search | ✅（多次） | ✅    | ✅    | ✅    | 拆關鍵字、反覆查詢再整合      |

---

如你需要，我可以補充進一步實作的關鍵點，例如如何透過 function calling、PydanticAI 或 LangChain 實作 Agentic RAG 流程。是否需要我整理一份可直接使用的範本或 Jupyter Notebook？
